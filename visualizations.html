<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Panic Attack Data Analysis - Visualizations</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
    rel="stylesheet"
  />
  
  <link
  href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600&display=swap"
  rel="stylesheet"
  />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  

  <header>
    <nav class="navbar">
      <div class="logo">
        <h1>Panic Attack Data Analysis</h1>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">Introduction</a></li>
        <li><a href="visualizations.html" class="active">Visualizations</a></li>
        <li><a href="conclusion.html">Conclusion</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- ====== VISUALIZATIONS SECTION ====== -->
<section class="hero">
  <div class="hero-content">
    <h2>Data Visualizations</h2>
    <p>
      Below are our 5 data visualizations.  
      Some will have interactive elements to help you explore the data in depth.  
      Explanations of design decisions will be documented separately.
    </p>
  </div>
</section>


      <!-- Visualization 1: D3 -->
<section class="section">
<div class="viz-container" id="viz1">
  <h3>1. Age Histogram with Gender Filter (D3.js)</h3>
  <div class="viz-flex">
    <!-- Left: Chart area -->
    <div class="viz-chart">
      <label for="genderFilter"><strong>Select Gender:</strong></label>
      <select id="genderFilter">
        <option value="0">Female</option>
        <option value="1">Male</option>
      </select>
      <div id="histogram"></div>
    </div>

    <!-- Right: Description -->
<div class="viz-info">
  <div class="viz-takeaway">
    <h4>Takeaway:</h4>
  </div>
    <div class="viz-description">
      <p>
     To better understand which demographics are most affected, this interactive histogram seeks to identify which age groups and genders experience the most panic attacks. By using the dropdown menu, the age data of either male or female patients can be observed. For the ages of male patients, we found that while panic attacks affect male adults of all ages, they are most frequent among middle-aged males (between 40-45-year olds). Male patients who are slightly older and slightly younger than this age group experience fewer panic attacks. However, it does appear that the oldest male patients experience an uptick in panic attacks. For female patients, there is a slight left skew in the data, with the 50-55-year-old females being the age group with the most panic attacks. However, the very oldest age bin (62-32 year olds) has by far the most panic attack entries out of any other group. This suggests that older females (aged 50+) are more at risk for panic attacks than younger females. 
    </div>
  </div>
</div>

      <!-- Visualization 4:  Dot Plot -->
      <div class="viz-container">
        <h3>2. Treemap of Symptoms and Lifestyle Factors by Panic Attack Severity (Altair) </h3>
        <p>
          An interactive treemap which visualizes the relationship between panic attack severity and lifestyle factors and symptoms. 
        </p>
        <iframe 
          src="treemap_panic_severity2.html" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
      </div>
            <div class="viz-info">
  <div class="viz-takeaway">
    <h4>Takeaway:</h4>
  </div>
    <div class="viz-description">
      <p>
This visualization gives us our highest level view of the relationships between lifestyle choices and symptoms with how severe they reported their panic attacks to be. For each lifestyle and symptom we display the count of “low”, “medium” and “high” panic attack severities as well as the percentage of the severity for the whole category. We also counted specific severities broken down to prevalence of lifestyle choices also categorized into “low”, “medium” and “high”. 
    </div>
  </div>
</div>
      <div class="viz-container">
        <h3>3. Feature Importance for Predicting Panic Attack Severity (Python) </h3>
        <p>
          A bar chart visualizing what features are most important in predicting panic attack severity. 
        </p>
          <iframe 
          src="feature_importance.png" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
      </div>
      
      <div class="viz-info">
  <div class="viz-takeaway">
    <h4>Takeaway:</h4>
  </div>
    <div class="viz-description">
      <p>
To identify which lifestyle choices and physiological factors contribute the most to the severity of panic attacks, we trained a Random Forest model using preprocessed data from our dataset. Features such as heart rate, sleep hours, alcohol consumption, exercise frequency, and caffeine intake were scaled and used to predict the target variable, Panic_Score, which we categorized into “Low,” “Medium,” and “High” severity. The model revealed that heart rate and sleep hours were by far the most important features for predicting panic severity. This suggests that elevated heart rate and sleep deprivation played the most crucial roles in the severity of panic attacks. This insight serves as a reminder to users that sleep and heart rate are important metrics to monitor, and if necessary inform future lifestyle adjustments as to improve overall wellness.
    </div>
  </div>
</div>

      
      <div class="viz-container">
        <h3>4. Histogram of Panic Duration Distribution by Trigger (Altair)</h3>
        <p>
          An interactive historgram chart to visualize the relationship between panic attack 
          severity and duration by trigger. Toggle the dropdown menu to select different triggers. 
        </p>
        <iframe 
          src="panic_duration_by_trigger.html" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
          <p>
    
          </p>
        </div>
      </div>
            
      <div class="viz-info">
  <div class="viz-takeaway">
    <h4>Takeaway:</h4>
  </div>
    <div class="viz-description">
      <p>
This histogram shows the distribution of the lengths in minutes of panic attacks of different severity levels (low, medium, and high). The first view of the visualization includes all panic attacks in the dataset, but the user can filter to only see panic attacks caused by a particular trigger. Most panic attacks of all three severity levels last approximately 16-28 minutes, with attacks with shorter and longer durations being slightly less common. However, there is a very high number of highly severe panic attacks that lasted 42-44 minutes, the longest recorded amount of time. This indicates that very long panic attacks are likely to be more severe. Many of these patterns hold true when filtering the data by a particular trigger. 
    </div>
  </div>
</div>
        
      <div class="viz-container">
        <h3>5. Stacked Bar Chart Panic Severity by Heart Rate (Altair)</h3>
        <p>
          This stacked bar chart to visualize the relationship between panic attack severity and heart rate.
        </p>
        <iframe 
          src="stacked_bar_panic_severity.html" 
          width="1000" 
          height="800" 
          style="border: none;">
          </iframe>
        </div>
      </div>
        </div>
    <div class="viz-description">
      <p>
This visualization gives us our highest level view of the relationships between lifestyle choices and symptoms with how severe they reported their panic attacks to be. For each lifestyle and symptom we display the count of “low”, “medium” and “high” panic attack severities as well as the percentage of the severity for the whole category. We also counted specific severities broken down to prevalence of lifestyle choices also categorized into “low”, “medium” and “high”. 
    </div>
  </div>
</div>

      <div class="viz-container">
  <h3>6. Grouped Bar Chart: Therapy/Medication Impact</h3>
  <p>
    This chart compares different combinations of therapy and medication
    on panic severity levels (Low, Medium, High).
  </p>

  <div class="viz-flex">
  <iframe
    src="grouped_bar.html"
    width="900"
    height="600"
    style="border:none;">
  </iframe>

  <!-- Centered Takeaway Section -->
  <div class="viz-info">
      <div class="viz-takeaway">
        <h4>Takeaway:</h4>
      </div>
      <div class="viz-description">
    <p>
 The Random Forest model identified Heart Rate as the most important predictor of panic attack severity. To explore this relationship, we created a stacked bar chart representing the count of panic attacks within defined heart rate ranges and grouped by panic severity. The chart shows that across nearly all heart rate intervals, higher heart rates are associated with high severity panic attacks, with particularly steep increases in the 100-120 bpm and 140-160 bpm bins. This supports the models conclusions and emphasizes that elevated heart rate serves as a physiological warning sign for more severe panic responses.
    </p>
</div>
    </div>
  </div>
</div>
</section>

  <footer>
    <p> DS4200 Final Project </p>
  </footer>
  
  <!-- dependencies (D3, etc.) -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="demographics.js"></script>
</body>
</html>
