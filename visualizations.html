<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Panic Attack Data Analysis - Visualizations</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
    rel="stylesheet"
  />
  
  <link
  href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600&display=swap"
  rel="stylesheet"
  />

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  

  <header>
    <nav class="navbar">
      <div class="logo">
        <h1>Panic Attack Data Analysis</h1>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">Introduction</a></li>
        <li><a href="visualizations.html" class="active">Visualizations</a></li>
        <li><a href="conclusion.html">Conclusion</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- ====== VISUALIZATIONS SECTION ====== -->
<section class="hero">
  <div class="hero-content">
    <h2>Data Visualizations</h2>
    <p>
      Below are our 5 data visualizations.  
      Some will have interactive elements to help you explore the data in depth.  
      Explanations of design decisions will be documented separately.
    </p>
  </div>
</section>


      <!-- Visualization 1: D3 -->
<section class="section">
<div class="viz-container" id="viz1">
  <h3>1. Age Histogram with Gender Filter (D3.js)</h3>
  <div class="viz-flex">
    <!-- Left: Chart area -->
    <div class="viz-chart">
      <label for="genderFilter"><strong>Select Gender:</strong></label>
      <select id="genderFilter">
        <option value="0">Female</option>
        <option value="1">Male</option>
      </select>
      <div id="histogram"></div>
    </div>

    <!-- Right: Description -->
<div class="viz-info">
  <div class="viz-takeaway">
    <h4>Takeaway:</h4>
  </div>
    <div class="viz-description">
      <p>
     To better understand which demographics are most affected, this interactive histogram seeks to identify which age groups and genders experience the most panic attacks. By using the dropdown menu, the age data of either male or female patients can be observed. For the ages of male patients, we found that while panic attacks affect male adults of all ages, they are most frequent among middle-aged males (between 40-45-year olds). Male patients who are slightly older and slightly younger than this age group experience fewer panic attacks. However, it does appear that the oldest male patients experience an uptick in panic attacks. For female patients, there is a slight left skew in the data, with the 50-55-year-old females being the age group with the most panic attacks. However, the very oldest age bin (62-32 year olds) has by far the most panic attack entries out of any other group. This suggests that older females (aged 50+) are more at risk for panic attacks than younger females. 
    </div>
  </div>
</div>

<div class="viz-container">
  <h3>2. Grouped Bar Chart: Therapy/Medication Impact</h3>
  <p>
    This chart compares different combinations of therapy and medication
    on panic severity levels (Low, Medium, High).
  </p>

  <div class="viz-flex">
  <iframe
    src="grouped_bar.html"
    width="900"
    height="600"
    style="border:none;">
  </iframe>

  <!-- Centered Takeaway Section -->
  <div class="viz-info">
      <div class="viz-takeaway">
        <h4>Takeaway:</h4>
      </div>
      <div class="viz-description">
    <p>
     This grouped bar chart is a static plot that divides the patients in the dataset based on which therapeutic interventions they have received. The counts of patients who experience low, medium, and high-severity panic attacks within each therapeutic intervention group are shown. In all four groups, the high-severity panic attacks are always the most frequent type of attack, regardless of whether patients are having therapy, medication, both, or neither. Interestingly, patients who are taking medication (regardless of whether they also have therapy) have significantly lower numbers (20 to 30) of patients with highly severe panic attacks. Furthermore, patients who are taking medication and have therapy had lower counts across all three severity groups; this suggests that combining medication and therapy is effective in reducing panic attacks of all severities. This provides more evidence to suggest that medication significantly reduces the risk of highly severe panic attacks, but that when used in conjunction with therapy, it is even more effective at reducing all types of panic attacks. 
    </p>
</div>
    </div>
  </div>
</div>

      <!-- Visualization 3: Scatterplot (D3) -->
      <div class="viz-container">
        <h3>3. Normalized Stacked Bar Chart (Altair) - Panic Severity</h3>
        <p>
          An interactive normalized stacked bar chart to visualize the relationship between panic attack 
          severity and symptoms and lifestyle factors.
        </p>
        <iframe 
          src="panic_duration_by_trigger.html" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
          <p>
    
          </p>
        </div>
      </div>
      
        <!-- Visualization 4: Stacked Bar Chart (D3) -->
      <div class="viz-container">
        <h3>4. Stacked Bar Chart (Altair) - Panic Severity</h3>
        <p>
          An interactive stacked bar chart to visualize the relationship between panic attack 
          severity and symptoms and lifestyle factors.
        </p>
        <iframe 
          src="stacked_bar_panic_severity.html" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
        </div>
      </div>

      <!-- Visualization 4:  Dot Plot -->
      <div class="viz-container">
        <h3>5. Dot Plot With Filter (Altair) - Sleep Hours vs Panic Score</h3>
        <p>
          This chart allows you to interactively explore the effect of sleep on the severity of panic attacks. 
        </p>
        <iframe 
          src="treemap_panic_severity.html" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
      </div>
      
      <!-- Visualization 5: Heatmap -->
      <div class="viz-container">
        <h3>6. Heatmap (Python) - Lifestyle Factors vs. Panic Severity</h3>
        <p>
          A correlation heatmap to explore relationships between continuous variables 
          such as caffeine intake, sleep, alcohol intake, heart rate, and exercise frequency 
          with panic severity score.
        </p>
          <iframe 
          src="feature_importance.png" 
          width="900" 
          height="600" 
          style="border: none;">
          </iframe>
      </div>
</section>

  <footer>
    <p> DS4200 Final Project </p>
  </footer>
  
  <!-- dependencies (D3, etc.) -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="demographics.js"></script>
</body>
</html>
